public static ${underlyingType}[][] stringToArray2D${i}(String str) throws Exception {
    if (str.charAt(0) != '[' || str.charAt(str.length() - 1) != ']') {
        throw new Exception("Input " + str + " is not a valid 2D array (missing brackets)");
    }
    if (str.equals("[]")) {
        throw new Exception("Input " + str + " is not a valid 2D array (must have a dimension greater than 0)");
    }
    ${parseUnderlyingTypeCode}
    return convertedArray2D;
}
